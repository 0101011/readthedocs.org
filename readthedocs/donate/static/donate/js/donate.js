require=function e(r,t,n){function o(i,c){if(!t[i]){if(!r[i]){var u="function"==typeof require&&require;if(!c&&u)return u(i,!0);if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var s=t[i]={exports:{}};r[i][0].call(s.exports,function(e){var t=r[i][1][e];return o(t?t:e)},s,s.exports,e,r,t,n)}return t[i].exports}for(var a="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}({1:[function(e,r,t){(function(){var e,r,t,n,o,a,i,c,u,l,s,p,d,h,v,f,m,y,g,_,b,w,C,x,k=[].slice,T=[].indexOf||function(e){for(var r=0,t=this.length;t>r;r++)if(r in this&&this[r]===e)return r;return-1};e=window.jQuery||window.Zepto||window.$,e.payment={},e.payment.fn={},e.fn.payment=function(){var r,t;return t=arguments[0],r=2<=arguments.length?k.call(arguments,1):[],e.payment.fn[t].apply(this,r)},o=/(\d{1,4})/g,e.payment.cards=n=[{type:"visaelectron",pattern:/^4(026|17500|405|508|844|91[37])/,format:o,length:[16],cvcLength:[3],luhn:!0},{type:"maestro",pattern:/^(5(018|0[23]|[68])|6(39|7))/,format:o,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"forbrugsforeningen",pattern:/^600/,format:o,length:[16],cvcLength:[3],luhn:!0},{type:"dankort",pattern:/^5019/,format:o,length:[16],cvcLength:[3],luhn:!0},{type:"visa",pattern:/^4/,format:o,length:[13,16],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^(5[1-5]|2[2-7])/,format:o,length:[16],cvcLength:[3],luhn:!0},{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"dinersclub",pattern:/^3[0689]/,format:/(\d{1,4})(\d{1,6})?(\d{1,4})?/,length:[14],cvcLength:[3],luhn:!0},{type:"discover",pattern:/^6([045]|22)/,format:o,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^(62|88)/,format:o,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"jcb",pattern:/^35/,format:o,length:[16],cvcLength:[3],luhn:!0}],r=function(e){var r,t,o;for(e=(e+"").replace(/\D/g,""),t=0,o=n.length;o>t;t++)if(r=n[t],r.pattern.test(e))return r},t=function(e){var r,t,o;for(t=0,o=n.length;o>t;t++)if(r=n[t],r.type===e)return r},d=function(e){var r,t,n,o,a,i;for(n=!0,o=0,t=(e+"").split("").reverse(),a=0,i=t.length;i>a;a++)r=t[a],r=parseInt(r,10),(n=!n)&&(r*=2),r>9&&(r-=9),o+=r;return o%10===0},p=function(e){var r;return null!=e.prop("selectionStart")&&e.prop("selectionStart")!==e.prop("selectionEnd")?!0:null!=("undefined"!=typeof document&&null!==document&&null!=(r=document.selection)?r.createRange:void 0)&&document.selection.createRange().text?!0:!1},C=function(e,r){var t,n,o;try{t=r.prop("selectionStart")}catch(a){n=a,t=null}return o=r.val(),r.val(e),null!==t&&r.is(":focus")?(t===o.length&&(t=e.length),r.prop("selectionStart",t),r.prop("selectionEnd",t)):void 0},y=function(e){var r,t,n,o,a,i,c,u;for(null==e&&(e=""),n="０１２３４５６７８９",o="0123456789",i="",t=e.split(""),c=0,u=t.length;u>c;c++)r=t[c],a=n.indexOf(r),a>-1&&(r=o[a]),i+=r;return i},m=function(r){return setTimeout(function(){var t,n;return t=e(r.currentTarget),n=t.val(),n=y(n),n=n.replace(/\D/g,""),C(n,t)})},v=function(r){return setTimeout(function(){var t,n;return t=e(r.currentTarget),n=t.val(),n=y(n),n=e.payment.formatCardNumber(n),C(n,t)})},c=function(t){var n,o,a,i,c,u,l;return a=String.fromCharCode(t.which),!/^\d+$/.test(a)||(n=e(t.currentTarget),l=n.val(),o=r(l+a),i=(l.replace(/\D/g,"")+a).length,u=16,o&&(u=o.length[o.length.length-1]),i>=u||null!=n.prop("selectionStart")&&n.prop("selectionStart")!==l.length)?void 0:(c=o&&"amex"===o.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/,c.test(l)?(t.preventDefault(),setTimeout(function(){return n.val(l+" "+a)})):c.test(l+a)?(t.preventDefault(),setTimeout(function(){return n.val(l+a+" ")})):void 0)},a=function(r){var t,n;return t=e(r.currentTarget),n=t.val(),8!==r.which||null!=t.prop("selectionStart")&&t.prop("selectionStart")!==n.length?void 0:/\d\s$/.test(n)?(r.preventDefault(),setTimeout(function(){return t.val(n.replace(/\d\s$/,""))})):/\s\d?$/.test(n)?(r.preventDefault(),setTimeout(function(){return t.val(n.replace(/\d$/,""))})):void 0},f=function(r){return setTimeout(function(){var t,n;return t=e(r.currentTarget),n=t.val(),n=y(n),n=e.payment.formatExpiry(n),C(n,t)})},u=function(r){var t,n,o;return n=String.fromCharCode(r.which),/^\d+$/.test(n)?(t=e(r.currentTarget),o=t.val()+n,/^\d$/.test(o)&&"0"!==o&&"1"!==o?(r.preventDefault(),setTimeout(function(){return t.val("0"+o+" / ")})):/^\d\d$/.test(o)?(r.preventDefault(),setTimeout(function(){return t.val(""+o+" / ")})):void 0):void 0},l=function(r){var t,n,o;return n=String.fromCharCode(r.which),/^\d+$/.test(n)?(t=e(r.currentTarget),o=t.val(),/^\d\d$/.test(o)?t.val(""+o+" / "):void 0):void 0},s=function(r){var t,n,o;return o=String.fromCharCode(r.which),"/"===o||" "===o?(t=e(r.currentTarget),n=t.val(),/^\d$/.test(n)&&"0"!==n?t.val("0"+n+" / "):void 0):void 0},i=function(r){var t,n;return t=e(r.currentTarget),n=t.val(),8!==r.which||null!=t.prop("selectionStart")&&t.prop("selectionStart")!==n.length?void 0:/\d\s\/\s$/.test(n)?(r.preventDefault(),setTimeout(function(){return t.val(n.replace(/\d\s\/\s$/,""))})):void 0},h=function(r){return setTimeout(function(){var t,n;return t=e(r.currentTarget),n=t.val(),n=y(n),n=n.replace(/\D/g,"").slice(0,4),C(n,t)})},w=function(e){var r;return e.metaKey||e.ctrlKey?!0:32===e.which?!1:0===e.which?!0:e.which<33?!0:(r=String.fromCharCode(e.which),!!/[\d\s]/.test(r))},_=function(t){var n,o,a,i;return n=e(t.currentTarget),a=String.fromCharCode(t.which),/^\d+$/.test(a)&&!p(n)?(i=(n.val()+a).replace(/\D/g,""),o=r(i),o?i.length<=o.length[o.length.length-1]:i.length<=16):void 0},b=function(r){var t,n,o;return t=e(r.currentTarget),n=String.fromCharCode(r.which),/^\d+$/.test(n)&&!p(t)?(o=t.val()+n,o=o.replace(/\D/g,""),o.length>6?!1:void 0):void 0},g=function(r){var t,n,o;return t=e(r.currentTarget),n=String.fromCharCode(r.which),/^\d+$/.test(n)&&!p(t)?(o=t.val()+n,o.length<=4):void 0},x=function(r){var t,o,a,i,c;return t=e(r.currentTarget),c=t.val(),i=e.payment.cardType(c)||"unknown",t.hasClass(i)?void 0:(o=function(){var e,r,t;for(t=[],e=0,r=n.length;r>e;e++)a=n[e],t.push(a.type);return t}(),t.removeClass("unknown"),t.removeClass(o.join(" ")),t.addClass(i),t.toggleClass("identified","unknown"!==i),t.trigger("payment.cardType",i))},e.payment.fn.formatCardCVC=function(){return this.on("keypress",w),this.on("keypress",g),this.on("paste",h),this.on("change",h),this.on("input",h),this},e.payment.fn.formatCardExpiry=function(){return this.on("keypress",w),this.on("keypress",b),this.on("keypress",u),this.on("keypress",s),this.on("keypress",l),this.on("keydown",i),this.on("change",f),this.on("input",f),this},e.payment.fn.formatCardNumber=function(){return this.on("keypress",w),this.on("keypress",_),this.on("keypress",c),this.on("keydown",a),this.on("keyup",x),this.on("paste",v),this.on("change",v),this.on("input",v),this.on("input",x),this},e.payment.fn.restrictNumeric=function(){return this.on("keypress",w),this.on("paste",m),this.on("change",m),this.on("input",m),this},e.payment.fn.cardExpiryVal=function(){return e.payment.cardExpiryVal(e(this).val())},e.payment.cardExpiryVal=function(e){var r,t,n,o;return o=e.split(/[\s\/]+/,2),r=o[0],n=o[1],2===(null!=n?n.length:void 0)&&/^\d+$/.test(n)&&(t=(new Date).getFullYear(),t=t.toString().slice(0,2),n=t+n),r=parseInt(r,10),n=parseInt(n,10),{month:r,year:n}},e.payment.validateCardNumber=function(e){var t,n;return e=(e+"").replace(/\s+|-/g,""),/^\d+$/.test(e)?(t=r(e),t?(n=e.length,T.call(t.length,n)>=0&&(t.luhn===!1||d(e))):!1):!1},e.payment.validateCardExpiry=function(r,t){var n,o,a;return"object"==typeof r&&"month"in r&&(a=r,r=a.month,t=a.year),r&&t?(r=e.trim(r),t=e.trim(t),/^\d+$/.test(r)&&/^\d+$/.test(t)&&r>=1&&12>=r?(2===t.length&&(t=70>t?"20"+t:"19"+t),4!==t.length?!1:(o=new Date(t,r),n=new Date,o.setMonth(o.getMonth()-1),o.setMonth(o.getMonth()+1,1),o>n)):!1):!1},e.payment.validateCardCVC=function(r,n){var o,a;return r=e.trim(r),/^\d+$/.test(r)?(o=t(n),null!=o?(a=r.length,T.call(o.cvcLength,a)>=0):r.length>=3&&r.length<=4):!1},e.payment.cardType=function(e){var t;return e?(null!=(t=r(e))?t.type:void 0)||null:null},e.payment.formatCardNumber=function(t){var n,o,a,i;return t=t.replace(/\D/g,""),(n=r(t))?(a=n.length[n.length.length-1],t=t.slice(0,a),n.format.global?null!=(i=t.match(n.format))?i.join(" "):void 0:(o=n.format.exec(t),null!=o?(o.shift(),o=e.grep(o,function(e){return e}),o.join(" ")):void 0)):t},e.payment.formatExpiry=function(e){var r,t,n,o;return(t=e.match(/^\D*(\d{1,2})(\D+)?(\d{1,4})?/))?(r=t[1]||"",n=t[2]||"",o=t[3]||"",o.length>0?n=" / ":" /"===n?(r=r.substring(0,1),n=""):2===r.length||n.length>0?n=" / ":1===r.length&&"0"!==r&&"1"!==r&&(r="0"+r,n=" / "),r+n+o):""}}).call(this)},{}],2:[function(e,r,t){function n(e){var r=this,e=e||{};i.publishableKey=r.stripe_key=e.key,r.form=e.form,r.cc_number=o.observable(null),r.cc_expiry=o.observable(null),r.cc_cvv=o.observable(null),r.error_cc_number=o.observable(null),r.error_cc_expiry=o.observable(null),r.error_cc_cvv=o.observable(null),r.stripe_token=o.observable(null),r.card_digits=o.observable(null),r.is_editing_card=o.observable(!1),r.show_card_form=o.computed(function(){return r.is_editing_card()||!r.card_digits()||r.cc_number()||r.cc_expiry()||r.cc_cvv()}),r.initialize_form(),r.error=o.observable(null),r.process_form=function(){var e=a.payment.cardExpiryVal(r.cc_expiry()),t={number:r.cc_number(),exp_month:e.month,exp_year:e.year,cvc:r.cc_cvv()};return r.error(null),r.error_cc_number(null),r.error_cc_expiry(null),r.error_cc_cvv(null),a.payment.validateCardNumber(t.number)?a.payment.validateCardExpiry(t.exp_month,t.exp_year)?a.payment.validateCardCVC(t.cvc)?void i.createToken(t,function(e,t){if(t.error)if("card_error"==t.error.type){var n={invalid_number:r.error_cc_number,incorrect_number:r.error_cc_number,expired_card:r.error_cc_number,card_declined:r.error_cc_number,invalid_expiry_month:r.error_cc_expiry,invalid_expiry_year:r.error_cc_expiry,invalid_cvc:r.error_cc_cvv,incorrect_cvc:r.error_cc_cvv},o=n[t.error.code]||r.error_cc_number;o(t.error.message)}else r.error_cc_number(t.error.message);else r.submit_form(t.card.last4,t.id)}):(r.error_cc_cvv("Invalid security code"),!1):(r.error_cc_expiry("Invalid expiration date"),!1):(r.error_cc_number("Invalid card number"),!1)},r.process_full_form=function(){return r.show_card_form()?void r.process_form():!0}}var o=e("knockout"),a=(e("./../../../../../bower_components/jquery.payment/lib/jquery.payment.js"),e("jquery")),i=null;"undefined"!=typeof window&&"undefined"!=typeof window.Stripe&&(i=window.Stripe||{}),o.bindingHandlers.valueInit={init:function(e,r){var t=r();o.isWriteableObservable(t)&&t(e.value)}},n.prototype.submit_form=function(e,r){this.form.find("#id_card_digits").val(e),this.form.find("#id_stripe_token").val(r),this.form.submit()},n.prototype.initialize_form=function(){var e=a("input#id_cc_number"),r=a("input#id_cc_cvv"),t=a("input#id_cc_expiry");e.payment("formatCardNumber"),t.payment("formatCardExpiry"),r.payment("formatCardCVC"),e.trigger("keyup")},n.init=function(e,r){var t=new n(e),r=r||a("#payment-form")[0];return o.applyBindings(t,r),t},r.exports.PaymentView=n},{"./../../../../../bower_components/jquery.payment/lib/jquery.payment.js":1,jquery:"jquery",knockout:"knockout"}],"donate/donate":[function(e,r,t){function n(e){var r=this,e=e||{};r.constructor.call(r,e),r.dollars=a.observable(),r.logo_url=a.observable(),r.site_url=a.observable(),r.error_dollars=a.observable(),r.error_logo_url=a.observable(),r.error_site_url=a.observable(),a.computed(function(){var e=$("input#id_logo_url").closest("p"),t=$("input#id_site_url").closest("p");r.dollars()<400?(r.logo_url(null),r.site_url(null),e.hide(),t.hide()):(e.show(),t.show())}),r.urls_enabled=a.computed(function(){return r.dollars()>=400})}var o=(e("jquery"),e("readthedocs/payments/static-src/payments/js/base")),a=e("knockout");n.prototype=new o.PaymentView,n.init=function(e,r){var t=new n(e),r=r||$("#donate-payment")[0];return a.applyBindings(t,r),t},r.exports.DonateView=n},{jquery:"jquery",knockout:"knockout","readthedocs/payments/static-src/payments/js/base":2}]},{},[]);